import{_ as H,u as J,r as x,j as P,k as v,l as Q,m as b,o as c,w as t,f as o,g as U,e,n as k,p as i,b as a,c as r,i as _,T as g,t as y,q as X,s as Y}from"./index-IB4G3YSI.js";import{u as Z}from"./useResponsive-D_ioosfI.js";const $={key:0,class:"logo-text"},ee={key:0,class:"toggle-text"},te={class:"header-content"},oe={class:"header-left"},ne={class:"page-title"},ae={class:"header-right"},se={__name:"MainLayout",setup(le){const p=Q(),C=U(),w=J(),{isMobile:n}=Z(),s=x(!1),d=x(!1);P(()=>p.path,()=>{n.value&&(d.value=!1)});const M=v(()=>n.value?"240px":s.value?"64px":"200px"),B=v(()=>p.path),T=v(()=>({"/projects":"项目管理","/cards":"卡密管理","/cloudvars":"云变量管理"})[p.path]||"NextKey"),m=()=>{n.value||(s.value=!s.value)},N=()=>{d.value=!d.value},S=()=>{d.value=!1},L=()=>{Y.confirm("确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{w.logout(),C.push("/login")}).catch(()=>{})};return(E,l)=>{const V=o("Box"),u=o("el-icon"),f=o("el-menu-item"),j=o("Ticket"),A=o("Cloudy"),D=o("el-menu"),R=o("DArrowLeft"),K=o("el-aside"),q=o("Menu"),z=o("Expand"),I=o("SwitchButton"),O=o("el-button"),W=o("el-header"),F=o("router-view"),G=o("el-main"),h=o("el-container");return c(),b(h,{class:"layout-container"},{default:t(()=>[e(K,{width:M.value,class:k(["sidebar",{collapsed:s.value,"mobile-hidden":i(n)&&!d.value}])},{default:t(()=>[a("div",{class:"logo",onClick:m},[l[0]||(l[0]=a("div",{class:"logo-icon"},[a("div",{class:"logo-gradient"})],-1)),e(g,{name:"fade"},{default:t(()=>[s.value?_("",!0):(c(),r("span",$,"NextKey"))]),_:1})]),e(D,{"default-active":B.value,router:"",collapse:s.value,class:"sidebar-menu"},{default:t(()=>[e(f,{index:"/projects",class:"menu-item"},{title:t(()=>[...l[1]||(l[1]=[a("span",null,"项目管理",-1)])]),default:t(()=>[e(u,null,{default:t(()=>[e(V)]),_:1})]),_:1}),e(f,{index:"/cards",class:"menu-item"},{title:t(()=>[...l[2]||(l[2]=[a("span",null,"卡密管理",-1)])]),default:t(()=>[e(u,null,{default:t(()=>[e(j)]),_:1})]),_:1}),e(f,{index:"/cloudvars",class:"menu-item"},{title:t(()=>[...l[3]||(l[3]=[a("span",null,"云变量",-1)])]),default:t(()=>[e(u,null,{default:t(()=>[e(A)]),_:1})]),_:1})]),_:1},8,["default-active","collapse"]),i(n)?_("",!0):(c(),r("div",{key:0,class:"sidebar-footer",onClick:m},[e(u,{class:k(["toggle-icon",{rotated:s.value}])},{default:t(()=>[e(R)]),_:1},8,["class"]),e(g,{name:"fade"},{default:t(()=>[s.value?_("",!0):(c(),r("span",ee,"收起"))]),_:1})]))]),_:1},8,["width","class"]),e(g,{name:"fade"},{default:t(()=>[i(n)&&d.value?(c(),r("div",{key:0,class:"mobile-overlay",onClick:S})):_("",!0)]),_:1}),e(h,{class:"main-container"},{default:t(()=>[e(W,{class:"header"},{default:t(()=>[a("div",te,[a("div",oe,[i(n)?(c(),r("button",{key:0,class:"mobile-menu-btn",onClick:N},[e(u,null,{default:t(()=>[e(q)]),_:1})])):(c(),r("button",{key:1,class:"collapse-btn",onClick:m},[e(u,null,{default:t(()=>[e(z)]),_:1})])),a("h2",ne,y(T.value),1)]),a("div",ae,[e(O,{type:"danger",plain:"",onClick:L,icon:i(n)?"":void 0},{default:t(()=>[X(y(i(n)?"":"退出登录")+" ",1),i(n)?(c(),b(u,{key:0},{default:t(()=>[e(I)]),_:1})):_("",!0)]),_:1},8,["icon"])])])]),_:1}),e(G,{class:"main-content"},{default:t(()=>[e(F)]),_:1})]),_:1})]),_:1})}}},ie=H(se,[["__scopeId","data-v-3fdb2f85"]]);export{ie as default};
