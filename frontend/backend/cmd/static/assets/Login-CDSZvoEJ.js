import{_ as V,u as k,r as p,a as x,c as g,o as v,b as a,d as N,e as o,w as t,f as l,g as C,h as L,i as q,E as z}from"./index-IB4G3YSI.js";import{r as B}from"./request-C3WSFEwG.js";function E(u){return B({url:"/admin/login",method:"post",data:u})}const K={class:"login-container"},R={class:"login-card glass-effect"},S={key:0},U={__name:"Login",setup(u){const _=C(),b=k(),n=p(null),r=p(!1),s=x({username:"",password:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},c=async()=>{n.value&&await n.value.validate(async f=>{if(f){r.value=!0;try{const e=await E(s);b.setToken(e.token),z.success("登录成功"),_.push("/")}catch(e){console.error(e)}finally{r.value=!1}}})};return(f,e)=>{const m=l("el-input"),i=l("el-form-item"),h=l("el-button"),y=l("el-form");return v(),g("div",K,[e[3]||(e[3]=a("div",{class:"background-animation"},[a("div",{class:"gradient-orb orb-1"}),a("div",{class:"gradient-orb orb-2"}),a("div",{class:"gradient-orb orb-3"})],-1)),a("div",R,[e[2]||(e[2]=N('<div class="login-header" data-v-81f73b8f><div class="logo-wrapper" data-v-81f73b8f><div class="logo-icon" data-v-81f73b8f><div class="logo-shine" data-v-81f73b8f></div></div></div><h1 class="title" data-v-81f73b8f>NextKey</h1><p class="subtitle" data-v-81f73b8f>卡密验证与云控制系统</p></div>',1)),o(y,{ref_key:"formRef",ref:n,model:s,rules:w,"label-width":"0",class:"login-form"},{default:t(()=>[o(i,{prop:"username"},{default:t(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=d=>s.username=d),placeholder:"用户名",size:"large","prefix-icon":"User",class:"modern-input"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:t(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock",class:"modern-input",onKeyup:L(c,["enter"])},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(h,{type:"primary",size:"large",class:"login-button",loading:r.value,onClick:c},{default:t(()=>[r.value?q("",!0):(v(),g("span",S,"登录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},M=V(U,[["__scopeId","data-v-81f73b8f"]]);export{M as default};
