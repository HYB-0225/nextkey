<!-- 3014c50d-65bc-485d-b67c-078e943a86ee 3cdd0061-7566-4fdc-a86b-04d6d7979f3b -->
# NextKey 前端动画系统全面升级

## 技术方案

**动画库选择**: GSAP (GreenSock Animation Platform)

- 高性能、跨浏览器兼容
- 支持弹簧物理、交错动画、时间轴控制
- 与Vue 3完美集成
- 比framer-motion更轻量(Vue专用)

## 核心改进点

### 1. 增强动画变量系统

更新 `frontend/src/styles/animations.css`:

- 添加弹簧物理参数 (spring damping, stiffness)
- 优化缓动曲线,增加更多自然的easing函数
- 新增微交互专用变量

### 2. 列表交错动画升级

改进所有卡片列表组件:

- `ProjectCardList.vue` - 项目卡片
- `CardListMobile.vue` - 卡密卡片
- `CloudVarCardList.vue` - 云变量卡片

实现效果:

- 初次加载:交错滑入 + 缩放弹跳
- 数据更新:平滑过渡,避免闪烁
- 删除动画:缩小淡出
- 添加动画:弹入效果

### 3. 按钮微交互

增强所有按钮的交互反馈:

- 悬浮:轻微上浮 + 阴影增强
- 点击:缩放反馈 (scale 0.95)
- 长按:涟漪效果
- 加载状态:平滑旋转

### 4. 对话框动画与美化

优化所有Dialog组件(共8个):

**视觉美化**:

- 现代化设计:卡片阴影、渐变背景、图标优化
- 移动端全屏/半屏设计,底部弹出效果
- 表单项分组、间距优化
- 响应式布局:桌面端600px,移动端全宽

**动画效果**:

- 打开:缩放弹出(0.9→1.0) + 背景淡入
- 关闭:缩小淡出
- 表单项:交错渐入动画
- 移动端:底部滑入动画

**影响组件**:

- `ProjectFormDialog.vue` - 创建/编辑项目
- `CardCreateDialog.vue` - 生成卡密
- `CardEditDialog.vue` - 编辑卡密
- `CardDetailDialog.vue` - 卡密详情
- `CardBatchUpdateDialog.vue` - 批量更新
- `CloudVarFormDialog.vue` - 云变量表单
- `ProjectBatchCreateDialog.vue` - 批量创建项目
- `CloudVarBatchImportDialog.vue` - 批量导入

### 5. 页面切换动画

改进路由过渡效果:

- 前进:右滑入
- 后退:左滑入
- 带深度感的视差效果

### 6. 表格/列表动画

桌面端表格行动画:

- 悬浮高亮
- 选中行状态过渡
- 数据加载骨架屏动画

### 7. 移动端专属优化

- 触摸反馈:按下缩小效果
- 滑动删除动画
- 下拉刷新弹性动画
- 优化性能,避免卡顿

## 实施步骤

### Phase 1: 基础设施

1. 安装GSAP依赖
2. 创建动画工具函数 `frontend/src/utils/animations.js`
3. 增强CSS变量系统

### Phase 2: 核心组件

4. 升级卡片列表动画(3个组件)
5. 改进按钮微交互
6. 优化对话框动画

### Phase 3: 页面级优化

7. 实现页面切换动画
8. 优化表格动画
9. 移动端触摸反馈

### Phase 4: 收尾

10. 性能优化和测试
11. 添加动画开关(可选,用户偏好)

## 关键文件清单

**样式系统**:

- `frontend/src/styles/animations.css` - 核心动画变量

**工具函数**:

- `frontend/src/utils/animations.js` - GSAP封装工具(新建)

**卡片列表组件**:

- `frontend/src/components/projects/ProjectCardList.vue`
- `frontend/src/components/cards/CardListMobile.vue`
- `frontend/src/components/cloudvars/CloudVarCardList.vue`

**表格组件**:

- `frontend/src/components/projects/ProjectTable.vue`
- `frontend/src/components/cards/CardTable.vue`
- `frontend/src/components/cloudvars/CloudVarTable.vue`

**视图页面**:

- `frontend/src/views/Projects.vue`
- `frontend/src/views/Cards.vue`
- `frontend/src/views/CloudVars.vue`

**路由配置**:

- `frontend/src/router/index.js` - 页面过渡动画

**布局**:

- `frontend/src/layouts/MainLayout.vue` - 导航动画

## 预期效果

- 列表加载:交错滑入,每项延迟50ms
- 按钮悬浮:2px上浮 + 阴影加深,150ms过渡
- 卡片点击:0.98缩放,100ms弹簧回弹
- 对话框:0.9→1.0缩放,300ms弹簧效果
- 页面切换:300ms滑动 + 视差,带缓动

### To-dos

- [ ] 安装GSAP依赖到项目
- [ ] 创建animations.js工具函数库
- [ ] 增强animations.css变量系统
- [ ] 升级ProjectCardList.vue交错动画
- [ ] 升级CardListMobile.vue交错动画
- [ ] 升级CloudVarCardList.vue交错动画
- [ ] 增强全局按钮微交互效果
- [ ] 优化对话框打开/关闭动画
- [ ] 实现路由页面切换动画
- [ ] 优化表格行悬浮和选中动画
- [ ] 添加移动端触摸反馈动画
- [ ] 性能测试和优化